![](/grafiki/Gemini_Generated_Image_z5sp1ez5sp1ez5sp.png)

## Krok 1: Wejdź do Google Cloud Console

Przejdź do [Google Cloud Console](https://console.cloud.google.com) i zaloguj się na swoje konto Google.

---

## Krok 2: Wybierz projekt

W górnym lewym rogu ekranu, obok logo Google Cloud, znajdziesz rozwijane menu wyboru projektu.

**Co zobaczysz:**
- Nazwę obecnego projektu (jeśli już jakiś masz)
- Możliwość przełączania się między projektami
- Opcję **"Utwórz projekt"** (NEW PROJECT)

Kliknij na to menu, aby otworzyć okno wyboru projektu.

![](https://obrazy.sadmin.pl/m4_p2-gcp-tworzenie-projektu-title.png)



---

## Krok 3: Utwórz nowy projekt

![](https://obrazy.sadmin.pl/m4_p2-gcp-nowy-projekt.png)

W oknie wyboru projektów kliknij przycisk **"NEW PROJECT"** lub **"Utwórz projekt"**.

**Formularz tworzenia projektu:**

1. **Nazwa projektu** (Project name)
   - Podaj dowolną nazwę, np. `n8n-integracja`, `Automatyzacja-Google`, `MojaFirma-API`
   - Nazwa powinna być opisowa i łatwa do zapamiętania

2. **Organizacja** (Organization) – opcjonalne
   - Jeśli masz konto Google Workspace, możesz przypisać projekt do organizacji
   - Jeśli pracujesz indywidualnie, zostaw domyślną opcję "No organization"

3. **Lokalizacja** (Location) – opcjonalne
   - Wybierz folder, jeśli organizujesz projekty hierarchicznie
   - Możesz pominąć, jeśli nie używasz folderów

**Ważne:**
- Każdy projekt ma unikalny **Project ID**, który jest generowany automatycznie na podstawie nazwy
- Project ID może być edytowany przed utworzeniem projektu
- Po utworzeniu projektu, ID nie może być zmienione




---

## Krok 4: Kliknij "CREATE" (Utwórz)

Po wypełnieniu nazwy projektu kliknij przycisk **"CREATE"** lub **"Utwórz"**.

Google Cloud utworzy projekt i przekieruje Cię do jego dashboardu. Proces może zająć kilka sekund.

---

## Krok 5: Ekran zgody

![](https://obrazy.sadmin.pl/m4_p2-gcp-ekran-zgody.png)

Po utworzeniu projektu Google Cloud Platform może wyświetlić **ekran zgody OAuth** (OAuth Consent Screen). Jest to kluczowy krok, jeśli planujesz integrować zewnętrzne aplikacje (jak n8n) z usługami Google.

### **Czym jest ekran zgody?**

Ekran zgody to strona, którą widzą użytkownicy, gdy aplikacja (np. n8n) prosi o dostęp do ich danych Google (np. Gmail, Google Sheets, Drive).

**Co zawiera ekran zgody:**
- Nazwę aplikacji
- Logo aplikacji (opcjonalnie)
- Informacje o tym, do jakich danych aplikacja chce uzyskać dostęp
- Linki do polityki prywatności i warunków użytkowania
- Przycisk "Zezwól" lub "Odrzuć"

### **Dlaczego to ważne?**

Bez skonfigurowania ekranu zgody nie będziesz mógł:
- Autoryzować n8n przez OAuth2
- Uzyskać dostępu do Google Sheets, Gmail, Drive i innych usług Google
- Tworzyć automatyzacji łączących się z Twoim kontem Google

### **Konfiguracja ekranu zgody**

![](https://obrazy.sadmin.pl/m4_p2-gcp-consent-screen.png)

Po przejściu do sekcji **"OAuth consent screen"**, zobaczysz opcje wyboru typu użytkowników oraz przycisk **"Rozpocznij"** lub **"Get Started"**.

**Kliknij przycisk "Rozpocznij"**, aby przejść do formularza konfiguracji ekranu zgody. W następnym kroku wypełnisz szczegółowe informacje o aplikacji i zakresach uprawnień.

---

## Krok 6: Tworzenie aplikacji

![](https://obrazy.sadmin.pl/m4_p2-gcp-tworzenie-aplikacji.png)

Po skonfigurowaniu ekranu zgody następnym krokiem jest utworzenie **aplikacji OAuth 2.0** w Google Cloud Platform. To właśnie ta aplikacja będzie reprezentować n8n i umożliwi mu dostęp do Twoich usług Google.

### **Czym jest aplikacja w kontekście GCP?**

W Google Cloud Platform **aplikacja** to zestaw credentials (danych uwierzytelniających), które pozwalają zewnętrznym narzędziom (jak n8n) łączyć się z Twoimi usługami Google przez OAuth 2.0.

**Kluczowe elementy aplikacji:**
- **Client ID** – publiczny identyfikator aplikacji, który mówi Google, która aplikacja próbuje się połączyć
- **Client Secret** – tajny klucz aplikacji, służący do weryfikacji autentyczności żądań (nigdy nie udostępniaj go publicznie!)
- **Redirect URIs** – adresy URL, na które Google może wysyłać odpowiedzi po autoryzacji (np. `https://twoja-domena-n8n.com/rest/oauth2-credential/callback`)
- **Scopes (zakresy uprawnień)** – lista usług Google, do których aplikacja może uzyskać dostęp (np. Google Sheets, Gmail, Drive)

### **Dlaczego potrzebujesz aplikacji?**

Bez utworzenia aplikacji OAuth 2.0:
- n8n nie będzie mogło się autoryzować w Google
- Nie uzyskasz Client ID i Client Secret potrzebnych do konfiguracji credentials w n8n
- Nie będziesz mógł tworzyć automatyzacji łączących się z Google Sheets, Gmail, Drive itd.

### **Proces tworzenia aplikacji**

W następnych krokach:
1. Przejdziesz do sekcji **"Credentials"** w Google Cloud Console
2. Wybierzesz **"Create Credentials"** → **"OAuth 2.0 Client ID"**
3. Określisz typ aplikacji (najczęściej **"Web application"**)
4. Dodasz Redirect URI (adres callback z n8n)
5. Skopiujesz Client ID i Client Secret do n8n

---

## Krok 7: Wybór typu odbiorców

![](https://obrazy.sadmin.pl/m4_p2-gcp-typ-odbiorcy.png)

Podczas konfiguracji ekranu zgody OAuth musisz wybrać **typ odbiorców** (User Type), który określa, kto będzie mógł korzystać z Twojej aplikacji.

### **Wewnętrzny (Internal)**

Dostęp tylko dla użytkowników z Twojej organizacji Google Workspace. Nie musisz przesyłać aplikacji do weryfikacji przez Google. Wybierz tę opcję, jeśli automatyzacje mają być używane wyłącznie w Twojej firmie.

### **Z zewnątrz (External)**

Każdy użytkownik testowy posiadający konto Google może uzyskać dostęp. Twoja aplikacja będzie działała w trybie testowym i dostępna tylko dla użytkowników, których dodasz do listy użytkowników testowych. Gdy aplikacja będzie gotowa do środowiska produkcyjnego, może być konieczne przesłanie jej do weryfikacji przez Google. Wybierz tę opcję, jeśli chcesz korzystać z automatyzacji na osobistym koncie Google lub udostępnić aplikację szerszemu gronu użytkowników.

**Dla celów integracji n8n z osobistym kontem Google lub małego zespołu wystarczy opcja "Z zewnątrz" (External) z dodaniem swojego emaila jako użytkownika testowego.**

---

## Krok 8: Dane kontaktowe administratora aplikacji

![](https://obrazy.sadmin.pl/m4_p2-gcp-dane-kontaktowe.png)

Po wybraniu typu odbiorców musisz podać **dane kontaktowe administratora aplikacji**. To informacje, które Google będzie wyświetlać użytkownikom na ekranie zgody oraz wykorzystywać do komunikacji w przypadku problemów z aplikacją.

**Wymagane dane:**
- **Adres email administratora** – Twój adres email, na który Google może wysyłać powiadomienia dotyczące aplikacji
- **Nazwa aplikacji** – nazwa wyświetlana użytkownikom podczas autoryzacji (np. "n8n Automatyzacja", "Moja Firma - Integracje")

**Opcjonalne dane:**
- **Logo aplikacji** – możesz dodać własne logo, które będzie wyświetlane na ekranie zgody
- **Link do polityki prywatności** – jeśli aplikacja jest publiczna lub używana przez zewnętrznych użytkowników
- **Link do warunków użytkowania** – dla aplikacji publicznych

Po wypełnieniu tych danych kliknij **"Zapisz i kontynuuj"** lub **"Save and Continue"**, aby przejść do kolejnego kroku konfiguracji.

---

![](https://obrazy.sadmin.pl/m4_p2-gcp-kolejny-krok.png)

---
Krok 9. Przejdz do danych logowania

![](https://obrazy.sadmin.pl/m4_p4-gcp-podsumowanie.png)

---

## 10. Dane logowania w GCP przy tworzeniu aplikacji

Dane logowania (credentials) w Google Cloud Platform to zestaw informacji, które pozwalają Twojej aplikacji (np. n8n) bezpiecznie łączyć się z usługami Google. Są one niezbędne do autoryzacji i komunikacji przez OAuth2.

**Główne elementy danych logowania:**
- **Client ID** – publiczny identyfikator Twojej aplikacji. Informuje Google, która aplikacja próbuje się połączyć.
- **Client Secret** – tajny klucz, który potwierdza autentyczność aplikacji. Nigdy nie udostępniaj go publicznie!
- **Redirect URI** – adres URL, na który Google przekieruje użytkownika po udanej autoryzacji. Musi być zgodny z konfiguracją w n8n.

**Po co są potrzebne?**
- Umożliwiają bezpieczne logowanie i autoryzację użytkowników.
- Pozwalają aplikacji uzyskać dostęp do wybranych usług Google (np. Gmail, Sheets, Drive).
- Są wymagane do skonfigurowania integracji OAuth2 w n8n.

**Jak je uzyskać?**
1. Po utworzeniu aplikacji w GCP przejdź do sekcji "Credentials".
2. Wybierz "Create Credentials" → "OAuth 2.0 Client ID".
3. Skopiuj wygenerowany Client ID i Client Secret.
4. Wprowadź je w konfiguracji node'a n8n (np. Google Sheets, Gmail).

**Podsumowanie:**
Dane logowania to klucz do bezpiecznej integracji n8n z Google. Dzięki nim Twoje workflow może automatycznie pobierać, zapisywać i przetwarzać dane z usług Google zgodnie z uprawnieniami nadanymi przez użytkownika.

![](https://obrazy.sadmin.pl/m4_p5-gcp-dane-logowania.png)

---

## Wyjaśnienie pól przy tworzeniu identyfikatora klienta OAuth w GCP

Na etapie tworzenia identyfikatora klienta OAuth w Google Cloud Platform musisz wypełnić kilka kluczowych pól:

**Typ aplikacji**
- Wybierz "Aplikacja internetowa" – to najczęstszy wybór dla integracji z n8n, która działa jako web service.

**Nazwa**
- Nazwa klienta OAuth 2.0. Służy tylko do identyfikacji w konsoli Google, nie jest widoczna dla użytkowników. Możesz wpisać np. "n8n Integracja".

**Autoryzowane źródła JavaScript**
- Te URI są wymagane tylko, jeśli Twoja aplikacja korzysta z autoryzacji bezpośrednio z przeglądarki (np. SPA). W przypadku n8n najczęściej możesz zostawić puste.

**Autoryzowane identyfikatory URI przekierowania**
- To najważniejsze pole dla integracji z n8n!
- Musisz tu podać adres, na który Google przekieruje użytkownika po udanej autoryzacji OAuth2.
- W n8n jest to adres callback, np.:
  - `https://twoja-domena-n8n.com/rest/oauth2-credential/callback`
  - Jeśli używasz n8n lokalnie: `http://localhost:5678/rest/oauth2-credential/callback`
- Bez poprawnego URI nie będzie możliwe dokończenie procesu autoryzacji – Google wyświetli błąd (jak na obrazku: "Identyfikator URI nie może być pusty").
- Możesz dodać wiele URI, jeśli masz kilka środowisk (produkcyjne, testowe).

**Uwaga:**
- Po dodaniu URI, Google automatycznie doda domeny do ekranu zgody OAuth jako "domeny autoryzowane".
- Zmiany mogą zacząć obowiązywać po kilku minutach do kilku godzin.

**Podsumowanie:**
- Najważniejsze dla n8n jest poprawne podanie identyfikatora URI przekierowania – bez tego integracja nie zadziała.
- Pozostałe pola możesz skonfigurować według własnych potrzeb, ale dla n8n najczęściej wystarczy podstawowa konfiguracja.

11. Wpradzenie danych do n8n

![](https://obrazy.sadmin.pl/m4_p6-gcp-redirect-uri.png)

---

Na przesłanym obrazie widzisz okno konfiguracji połączenia Gmail OAuth2 w n8n

- **OAuth Redirect URL**
  - Adres URL, na który Google przekieruje użytkownika po autoryzacji.
  - Ten adres należy skopiować i wkleić w konfiguracji aplikacji w Google Cloud Platform (pole "Autoryzowane identyfikatory URI przekierowania").
  - Przykład: `https://n8n.sodmin.pt/rest/oauth2-credential/callback`

- **Client ID**
  - Publiczny identyfikator aplikacji wygenerowany w Google Cloud Platform.
  - Pozwala Google rozpoznać, która aplikacja próbuje się połączyć.
  - Wymagane do poprawnej autoryzacji.

- **Client Secret**
  - Tajny klucz aplikacji wygenerowany w Google Cloud Platform.
  - Służy do weryfikacji autentyczności żądań.
  - Nigdy nie udostępniaj go publicznie!

- **Allowed HTTP Request Domains**
  - Określa, do jakich domen n8n może wysyłać żądania HTTP w ramach tego połączenia.
  - Domyślnie ustawione na "All" (wszystkie domeny dozwolone).
  - Możesz ograniczyć do wybranych domen dla większego bezpieczeństwa.

- **Enterprise plan users can pull in credentials from external vaults**
  - Informacja dla użytkowników wersji Enterprise – mogą pobierać dane logowania z zewnętrznych sejfów (vaults).

- **Save**
  - Przycisk zapisujący konfigurację połączenia.

Każde z tych pól jest niezbędne do poprawnej integracji Gmaila z n8n przez OAuth2. Prawidłowe wypełnienie gwarantuje bezpieczne i stabilne połączenie z usługą Google.

![](https://obrazy.sadmin.pl/m4_p7-gcp-gmail-konfiguracja.png)

---

## 12. Klient OAuth został utworzony – co oznaczają te dane?

Na załączonym obrazie widzisz podsumowanie utworzenia klienta OAuth w Google Cloud Platform. Otrzymujesz dwie kluczowe informacje:

- **Identyfikator klienta (Client ID)**
  - To publiczny identyfikator Twojej aplikacji. Pozwala Google rozpoznać, która aplikacja próbuje się połączyć z usługami Google.
  - Wprowadzasz go w konfiguracji n8n, aby powiązać workflow z konkretną aplikacją Google.

- **Tajny klucz klienta (Client Secret)**
  - To prywatny, poufny klucz, który służy do weryfikacji autentyczności Twojej aplikacji.
  - Jest niezbędny do bezpiecznej komunikacji między n8n a Google – potwierdza, że żądania pochodzą od zaufanej aplikacji.
  - **Nigdy nie udostępniaj tego klucza publicznie!**
  - Po czerwcu 2025 r. nie będzie można ponownie wyświetlić ani pobrać tego klucza po zamknięciu okna – musisz go skopiować i bezpiecznie przechowywać.

**Dlaczego te dane są tak ważne?**
- **Identyfikator klienta** pozwala Google rozpoznać Twoją aplikację i powiązać ją z uprawnieniami, które nadajesz.
- **Tajny klucz klienta** chroni przed nieautoryzowanym dostępem – tylko aplikacja posiadająca ten klucz może uzyskać dostęp do Twoich danych przez OAuth2.
- Utrata lub ujawnienie tajnego klucza może narazić Twoje konto na nieautoryzowany dostęp – zawsze przechowuj go w bezpiecznym miejscu.

**Podsumowanie:**
- Te dwie pozycje są fundamentem bezpiecznej integracji n8n z Google. Bez nich nie skonfigurujesz połączenia OAuth2 i nie uzyskasz dostępu do usług Google z poziomu workflow.

![](https://obrazy.sadmin.pl/m4_p8-gcp-odbiorcy-oauth.png)

---

## Kim są odbiorcy ekranu zgody OAuth?

Odbiorcy ekranu zgody OAuth to użytkownicy, którzy mogą autoryzować aplikację i udzielić jej dostępu do swoich danych Google. W GCP możesz określić:

- **Użytkownicy testowi** – osoby dodane ręcznie na ekranie zgody OAuth. Tylko oni mogą korzystać z aplikacji w trybie testowym.
- **Użytkownicy wewnętrzni** – jeśli wybierzesz typ "Internal", dostęp mają tylko członkowie Twojej organizacji Google Workspace.
- **Użytkownicy zewnętrzni** – jeśli aplikacja przejdzie weryfikację Google, dostęp mogą uzyskać wszyscy użytkownicy Google.

**Dlaczego to ważne?**
- W trybie testowym (najczęściej na początku integracji) tylko użytkownicy testowi mogą autoryzować aplikację – musisz dodać swój adres e-mail na ekranie zgody.
- W produkcji (po weryfikacji) aplikacja może być dostępna dla szerszego grona odbiorców.
- Odbiorcy ekranu zgody decydują, kto faktycznie może korzystać z Twojej integracji n8n z Google.


13.  Przejdz do bibliteki interfejsów API i włącz potrzebne interfejsy
![](https://obrazy.sadmin.pl/m4_p9-gcp-api-biblioteki.png)

---

## Czym są biblioteki interfejsów API w GCP?

Biblioteki interfejsów API (API Libraries) w Google Cloud Platform to zestaw usług, które musisz aktywować, aby Twoja aplikacja mogła korzystać z wybranych funkcji Google (np. kalendarza, poczty, dysku). Bez ich włączenia integracja z n8n nie będzie działać poprawnie.

**Jakie biblioteki trzeba włączyć dla n8n?**

Aby zintegrować n8n z najpopularniejszymi usługami Google, musisz aktywować następujące biblioteki API w konsoli GCP:

- Google Calendar API
- Gmail API
- Google Drive API

**Jak to zrobić?**
1. Przejdź do konsoli Google Cloud Platform.
2. Wybierz swój projekt.
3. Wejdź w sekcję "APIs & Services" → "Library".
4. Wyszukaj powyższe usługi i kliknij "Enable" (Włącz).

**Dlaczego to ważne?**
- Bez aktywacji odpowiednich bibliotek API Twoja aplikacja nie uzyska dostępu do danych Google.
- Włączenie API jest wymagane do poprawnej autoryzacji i działania node'ów n8n (np. pobierania maili, wydarzeń z kalendarza, plików z dysku).
